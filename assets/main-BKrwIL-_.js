import{S as o,C as h,P as d,W as l,A as w,D as c,G as v,a as p}from"./GLTFLoader-DwKRNB9j.js";class m{constructor(){this.previewScene=null,this.previewCamera=null,this.previewRenderer=null,this.previewModel=null,this.controls=null,this.init()}init(){this.setupEventListeners(),this.initPreviewScene(),this.loadPreviewModel(),this.createParticles(),this.animate()}initPreviewScene(){const e=document.getElementById("modelPreview");if(!e)return;this.previewScene=new o,this.previewScene.background=new h(0),this.previewCamera=new d(45,e.clientWidth/e.clientHeight,.1,1e3),this.previewCamera.position.set(0,.5,5),this.previewRenderer=new l({canvas:e,antialias:!0,alpha:!1}),this.previewRenderer.setSize(e.clientWidth,e.clientHeight),this.previewRenderer.setPixelRatio(window.devicePixelRatio);const t=new w(16711680,.6);this.previewScene.add(t);const s=new c(16711680,.4);s.position.set(-5,-5,-5),this.previewScene.add(s);const n=new v(10,10,16711680,16711680);n.position.y=-2,this.previewScene.add(n)}loadPreviewModel(){new p().load("./models/enemy.glb",t=>{this.previewModel=t.scene,this.previewModel.scale.set(.2,.2,.2),this.previewModel.position.set(0,-1,0),this.previewModel.rotation.y=Math.PI/4,this.previewModel.traverse(s=>{s.isMesh&&s.isMesh&&(s.castShadow=!1,s.receiveShadow=!1)}),this.previewScene.add(this.previewModel)},void 0,t=>{console.error("Error loading preview model:",t)})}animate(){requestAnimationFrame(()=>this.animate()),this.previewModel&&(this.previewModel.rotation.y+=.005),this.controls&&this.controls.update(),this.previewRenderer&&this.previewScene&&this.previewCamera&&this.previewRenderer.render(this.previewScene,this.previewCamera)}setupEventListeners(){const e=document.getElementById("modelPreview");e&&(e.addEventListener("mouseenter",()=>{this.controls&&(this.controls.autoRotate=!1)}),e.addEventListener("mouseleave",()=>{this.controls&&(this.controls.autoRotate=!0)}))}createParticles(){const e=document.getElementById("bgCanvas");if(!e)return;const t=e.getContext("2d");e.width=window.innerWidth,e.height=window.innerHeight;const s=[],n=50;class a{constructor(){this.x=Math.random()*e.width,this.y=Math.random()*e.height,this.size=Math.random()*3+1,this.speedX=Math.random()*2-1,this.speedY=Math.random()*2-1,this.color=`rgba(255, ${Math.floor(Math.random()*100)}, 0, 0.5)`}update(){this.x+=this.speedX,this.y+=this.speedY,this.x>e.width&&(this.x=0),this.x<0&&(this.x=e.width),this.y>e.height&&(this.y=0),this.y<0&&(this.y=e.height)}draw(){t.fillStyle=this.color,t.beginPath(),t.arc(this.x,this.y,this.size,0,Math.PI*2),t.fill()}}for(let i=0;i<n;i++)s.push(new a);function r(){t.clearRect(0,0,e.width,e.height),t.strokeStyle="rgba(255, 0, 0, 0.1)",t.lineWidth=1;for(let i=0;i<e.width;i+=50)t.beginPath(),t.moveTo(i,0),t.lineTo(i,e.height),t.stroke();for(let i=0;i<e.height;i+=50)t.beginPath(),t.moveTo(0,i),t.lineTo(e.width,i),t.stroke();s.forEach(i=>{i.update(),i.draw()}),requestAnimationFrame(r)}r(),window.addEventListener("resize",()=>{e.width=window.innerWidth,e.height=window.innerHeight})}}document.addEventListener("DOMContentLoaded",()=>{new m});
