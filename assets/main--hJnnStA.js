import{S as a,C as h,P as d,W as l,A as w,D as c,G as v,a as p}from"./GLTFLoader-DwKRNB9j.js";class m{constructor(){this.previewScene=null,this.previewCamera=null,this.previewRenderer=null,this.previewModel=null,this.controls=null,this.init()}init(){this.setupEventListeners(),this.initPreviewScene(),this.loadPreviewModel(),this.createParticles(),this.animate()}initPreviewScene(){const e=document.getElementById("modelPreview");if(!e)return;this.previewScene=new a,this.previewScene.background=new h(0),this.previewCamera=new d(45,e.clientWidth/e.clientHeight,.1,1e3),this.previewCamera.position.set(0,.5,5),this.previewRenderer=new l({canvas:e,antialias:!0,alpha:!1}),this.previewRenderer.setSize(e.clientWidth,e.clientHeight),this.previewRenderer.setPixelRatio(window.devicePixelRatio);const i=new w(16711680,.6);this.previewScene.add(i);const s=new c(16711680,.4);s.position.set(-5,-5,-5),this.previewScene.add(s);const n=new v(10,10,16711680,16711680);n.position.y=-2,this.previewScene.add(n)}loadPreviewModel(){new p().load("./models/enemy.glb",i=>{this.previewModel=i.scene,this.previewModel.scale.set(.2,.2,.2),this.previewModel.position.set(0,-1,0),this.previewModel.rotation.y=Math.PI/4,this.previewModel.traverse(s=>{s.isMesh&&s.isMesh&&(s.castShadow=!1,s.receiveShadow=!1)}),this.previewScene.add(this.previewModel)},void 0,i=>{console.error("Error loading preview model:",i)})}animate(){requestAnimationFrame(()=>this.animate()),this.previewModel&&(this.previewModel.rotation.y+=.005),this.controls&&this.controls.update(),this.previewRenderer&&this.previewScene&&this.previewCamera&&this.previewRenderer.render(this.previewScene,this.previewCamera)}setupEventListeners(){window.addEventListener("resize",()=>this.onWindowResize());const e=document.getElementById("modelPreview");e&&(e.addEventListener("mouseenter",()=>{this.controls&&(this.controls.autoRotate=!1)}),e.addEventListener("mouseleave",()=>{this.controls&&(this.controls.autoRotate=!0)}))}createParticles(){const e=document.getElementById("bgCanvas");if(!e)return;const i=e.getContext("2d");e.width=window.innerWidth,e.height=window.innerHeight;const s=[],n=50;class o{constructor(){this.x=Math.random()*e.width,this.y=Math.random()*e.height,this.size=Math.random()*3+1,this.speedX=Math.random()*2-1,this.speedY=Math.random()*2-1,this.color=`rgba(255, ${Math.floor(Math.random()*100)}, 0, 0.5)`}update(){this.x+=this.speedX,this.y+=this.speedY,this.x>e.width&&(this.x=0),this.x<0&&(this.x=e.width),this.y>e.height&&(this.y=0),this.y<0&&(this.y=e.height)}draw(){i.fillStyle=this.color,i.beginPath(),i.arc(this.x,this.y,this.size,0,Math.PI*2),i.fill()}}for(let t=0;t<n;t++)s.push(new o);function r(){i.clearRect(0,0,e.width,e.height),i.strokeStyle="rgba(255, 0, 0, 0.1)",i.lineWidth=1;for(let t=0;t<e.width;t+=50)i.beginPath(),i.moveTo(t,0),i.lineTo(t,e.height),i.stroke();for(let t=0;t<e.height;t+=50)i.beginPath(),i.moveTo(0,t),i.lineTo(e.width,t),i.stroke();s.forEach(t=>{t.update(),t.draw()}),requestAnimationFrame(r)}r(),window.addEventListener("resize",()=>{e.width=window.innerWidth,e.height=window.innerHeight})}}document.addEventListener("DOMContentLoaded",()=>{new m});
